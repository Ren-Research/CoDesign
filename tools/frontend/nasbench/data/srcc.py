#!/usr/bin/env python3

import pickle

from scipy import stats

kcp_ws_acc1_latency = pickle.load(open('./kcp_ws/kcp_ws_1/acc1_latency.pickle', 'rb'))
kcp_ws_acc2_latency = pickle.load(open('./kcp_ws/kcp_ws_22/acc1_latency.pickle', 'rb'))

xp_ws_acc1_latency = pickle.load(open('./xp_ws/xp_ws_1/acc1_latency.pickle', 'rb'))
xp_ws_acc2_latency = pickle.load(open('./xp_ws/xp_ws_2/acc1_latency.pickle', 'rb'))

rs_acc1_latency = pickle.load(open('./rs/rs_1/acc1_latency.pickle', 'rb'))
rs_acc2_latency = pickle.load(open('./rs/rs_2/acc1_latency.pickle', 'rb'))
rs_acc3_latency = [12162851.0, 17229081.0, 12727023.0, 15370625.0, 16262055.0, 14331961.0, 18539435.0, 18660601.0, 20486435.0, 15243619.0, 15505029.0, 16532729.0, 17706305.0, 19054109.0, 17244489.0, 17413707.0, 15490893.0, 18919701.0, 16077895.0, 20160113.0, 15766397.0, 20324451.0, 13062119.0, 14064157.0, 16967465.0, 17564295.0, 18142405.0, 16384307.0, 14500407.0, 19296461.0, 11867743.0, 16702925.0, 17706477.0, 17419669.0, 15363639.0, 18294671.0, 15391563.0, 20155711.0, 19407065.0, 19450439.0, 15483089.0, 13751421.0, 19702299.0, 19282241.0, 17816293.0, 15782439.0, 14353751.0, 16106105.0, 14332041.0, 22159677.0, 17285261.0, 18419521.0, 16548771.0, 18120603.0, 14084427.0, 14457931.0, 22798101.0, 15622079.0, 19161201.0, 14618849.0, 17705907.0, 13781125.0, 17265443.0, 15345567.0, 21132719.0, 16824275.0, 18547273.0, 19858543.0, 14202295.0, 15080221.0, 11407051.0, 17284409.0, 16520167.0, 20773197.0, 12708905.0, 19457115.0, 22234873.0, 12717251.0, 21879973.0, 19419607.0, 18511113.0, 15635813.0, 16538659.0, 13726769.0, 16999351.0, 16491013.0, 18552351.0, 16722511.0, 12618013.0, 16548011.0, 12045341.0, 19843287.0, 17659231.0, 13206345.0, 12569155.0, 20198187.0, 16267337.0, 20559955.0, 16246261.0, 19628099.0, 18428781.0, 18547907.0, 15783743.0, 17786439.0, 19058645.0, 20615329.0, 16100037.0, 14333993.0, 19176621.0, 18971419.0, 17406675.0, 16955381.0, 16358909.0, 16473667.0, 14630879.0, 16710591.0, 20463193.0, 16112705.0, 14320737.0, 19971577.0, 14517229.0, 19416015.0, 14914205.0, 18655771.0, 17550141.0, 17544473.0, 17124435.0, 20337085.0, 17676111.0, 18742645.0, 18015277.0, 14499849.0, 17160005.0, 10532901.0, 13349221.0, 16094415.0, 17152385.0, 17268335.0, 16686817.0, 13603171.0, 23185267.0, 19568709.0, 17261755.0, 19715739.0, 16345065.0, 19834055.0, 17072111.0, 16149747.0, 10884785.0, 16976231.0, 13601899.0, 15108377.0, 17382627.0, 15267033.0, 19294817.0, 13209039.0, 14211681.0, 16535763.0, 18121409.0, 19577135.0, 17510313.0, 20734003.0, 15514215.0, 13939953.0, 19881445.0, 16380371.0, 17795279.0, 16836947.0, 20464927.0, 20194457.0, 17377705.0, 18741563.0, 18140039.0, 18841249.0, 16228189.0, 18398105.0, 17826111.0, 17822151.0, 15944679.0, 20617373.0, 16507919.0, 18649205.0, 19431129.0, 15080641.0, 19587633.0, 19706663.0, 19426421.0, 17419729.0, 16369009.0, 17550607.0, 16104619.0, 14610177.0, 23193059.0, 18582193.0, 17187849.0, 16674799.0, 17487135.0, 14355329.0, 13180821.0, 17690113.0, 17371369.0, 15483601.0, 15364059.0, 18256483.0, 15653113.0, 15506981.0, 19546861.0, 18436061.0, 16583803.0, 17314637.0, 19725713.0, 18011593.0, 15494485.0, 16368387.0, 17256519.0, 16369873.0, 19829737.0, 15517093.0, 15293283.0, 18224955.0, 16978291.0, 14518991.0, 16646817.0, 14655505.0, 11821499.0, 19404325.0, 17262313.0, 18394575.0, 15642781.0, 15519883.0, 17251689.0, 21330403.0, 16388457.0, 17862537.0, 16364577.0, 19988675.0, 15642349.0, 15245277.0, 17443175.0, 16226825.0, 13073763.0, 19557577.0, 15460233.0, 18978057.0, 17370517.0, 17067215.0, 16950597.0, 20731187.0, 17971253.0, 14331143.0, 20584175.0, 17296099.0, 17541175.0, 14889909.0, 15552695.0, 21752471.0, 15058419.0, 13329445.0, 17537167.0, 20181555.0, 19292433.0, 18247903.0, 15639097.0, 18142871.0, 14193483.0, 17688019.0, 15681435.0, 16820407.0, 16059311.0, 14075087.0, 17290435.0, 18671087.0, 16344633.0, 18168269.0, 19858027.0, 17658085.0, 14057775.0, 17680181.0, 20877503.0, 15988997.0, 17977165.0, 21002927.0, 15971609.0, 22768817.0, 14310533.0, 20463055.0, 16524677.0, 16240299.0, 19203971.0, 18276893.0, 15515855.0, 15520487.0, 17393033.0, 18011979.0, 23186027.0, 15790571.0, 17382967.0, 18829001.0, 19233987.0, 14205299.0, 18722697.0, 14350919.0, 18118823.0, 14951701.0, 19293763.0, 16392049.0, 18449749.0, 16353739.0, 15245663.0, 15216487.0, 17836005.0, 17761413.0, 20812465.0, 22339767.0, 17584767.0, 16623667.0, 22197697.0, 17537599.0, 11143363.0, 18142405.0, 14456957.0, 15500913.0, 19933647.0, 15520303.0, 18299841.0, 14530681.0, 16666345.0, 16387991.0, 13176751.0, 19587973.0, 17521013.0, 17052187.0, 20473985.0, 13787599.0, 15952299.0, 16694189.0, 15241387.0, 16254775.0, 17563011.0, 17544133.0, 22135315.0, 17125707.0, 13091063.0, 16380791.0, 16388797.0, 17120411.0, 18435767.0, 17820363.0, 17676203.0, 19076423.0, 18429259.0, 18552305.0, 19847017.0, 17266723.0, 19330033.0, 16197961.0, 15553455.0, 17547309.0, 14902019.0, 19004865.0, 15734839.0, 17270319.0, 17394023.0, 15344761.0, 16130731.0, 22458503.0, 19789991.0, 15116105.0, 13454161.0, 18327437.0, 19125283.0, 15775271.0, 15471923.0, 17526681.0, 18529357.0, 15222375.0, 12168055.0, 20151171.0, 17517933.0, 17342931.0, 13525505.0, 18660169.0, 16998885.0, 21601325.0, 21123589.0, 15093477.0, 16227849.0, 19277537.0, 15116537.0, 17422161.0, 17415641.0, 19533265.0, 15713971.0, 14943569.0, 16861599.0, 16646183.0, 20049937.0, 16123111.0, 14465303.0, 19672411.0, 18421971.0, 21042449.0, 16655783.0, 19128821.0, 19511245.0, 17003329.0, 15020261.0, 15517139.0, 13325669.0, 17245601.0, 15173341.0, 17814715.0, 19376855.0, 17815907.0, 17649119.0, 19694231.0, 15950465.0, 21645707.0, 17695979.0, 14342879.0, 17402789.0, 17781143.0, 17712453.0, 16109021.0, 17360019.0, 18537363.0, 19307425.0, 19899689.0, 18443321.0, 19302885.0, 20463441.0, 20804499.0, 18276087.0, 15640709.0, 20313533.0, 17275057.0, 21361051.0, 20601579.0, 22740821.0, 18490181.0, 15660127.0, 17291781.0, 18406173.0, 19398191.0, 17699957.0, 13333381.0, 12755581.0, 18282515.0, 16987149.0, 16174141.0, 18041867.0, 17137011.0, 13603171.0, 17870027.0, 19308105.0, 17726933.0, 19703457.0, 15227885.0, 14210489.0, 18119071.0, 17167671.0, 17041509.0, 17231573.0, 16524257.0, 16691575.0, 14999587.0, 16687551.0, 16796561.0, 17233957.0, 17127779.0, 20608007.0, 20282671.0, 15944259.0, 16633733.0, 20442859.0, 19881105.0, 20324883.0, 21595997.0, 16070661.0, 18709027.0, 20011715.0, 13072151.0, 20157709.0, 10534047.0, 15819423.0, 13917685.0, 15493771.0, 17239579.0, 14181281.0, 15505663.0, 15332513.0, 19399337.0, 22745743.0, 21466003.0, 13199359.0, 14214111.0, 12302601.0, 18359811.0, 18305929.0, 18415359.0, 14481017.0, 18881031.0, 16106637.0, 16380031.0, 14351305.0, 15353993.0, 18566827.0, 17292973.0, 18935581.0, 18545751.0, 18402501.0, 17510221.0, 16372369.0, 17990177.0, 14482289.0, 16357377.0, 19708833.0, 14471619.0, 15513921.0, 15890755.0, 16560461.0, 16503895.0, 20476339.0, 15985111.0, 21339169.0, 17994155.0, 17142293.0, 16663449.0, 20389189.0, 18114967.0, 14759593.0, 18292779.0, 18173099.0, 16982365.0, 17400359.0, 18741269.0, 18142023.0, 20694501.0, 19739493.0, 19669447.0, 17409263.0, 9980747.0, 19588439.0, 20473893.0, 15265841.0, 14744739.0, 19409201.0, 15232035.0, 16094415.0, 15212803.0, 16684387.0, 16760769.0, 19598459.0, 16694051.0, 13198587.0, 19856663.0, 15241635.0, 17955731.0, 18682017.0, 19272301.0, 17839635.0, 18100717.0, 17256565.0, 17523463.0, 17830383.0, 17519913.0, 20175487.0, 15493431.0, 15984305.0, 20187689.0, 18384803.0, 16934699.0, 18845017.0, 17602591.0, 15838887.0, 20451239.0, 21181301.0, 13761101.0, 17529531.0, 17426571.0, 15511629.0, 17548177.0, 19365477.0, 22811063.0, 14471745.0, 20398273.0, 20947265.0, 16222009.0, 15494825.0, 17120969.0, 18150197.0, 14044007.0, 18678039.0, 22611541.0, 15122513.0, 15217835.0, 20305959.0, 20261595.0, 21522137.0, 17129731.0, 19877081.0, 17553007.0, 16859261.0, 18286631.0, 14333233.0, 19434167.0, 16279787.0, 15099859.0, 18608531.0, 18445679.0, 15249301.0, 15369321.0, 19526637.0, 17289197.0, 18545969.0, 19453179.0, 13189667.0, 18407705.0, 17498871.0, 19554527.0, 20661695.0, 12578059.0, 22746889.0, 22363567.0, 17806289.0, 19189457.0, 15766645.0, 16380791.0, 17655253.0, 17424545.0, 15480101.0, 21132673.0, 19140171.0, 19581579.0, 15097953.0, 15371293.0, 18707651.0, 16771301.0, 22645067.0, 17376945.0, 16070039.0, 16531425.0, 14746443.0, 16080479.0, 16100423.0, 17516183.0, 17977387.0, 19821219.0, 17298097.0, 17531171.0, 16120665.0, 17648019.0, 14650223.0, 18272109.0, 12559383.0, 13293909.0, 17389487.0, 17648221.0, 18395767.0, 17253347.0, 18410667.0, 20867173.0, 15170013.0, 14608225.0, 13792429.0, 16088859.0, 15252511.0, 16363805.0, 18818935.0, 16397671.0, 14484195.0, 13463559.0, 18858935.0, 18425949.0, 22362933.0, 13060029.0, 17527953.0, 19122007.0, 11289461.0, 15183923.0, 19278729.0, 16961935.0, 13929795.0, 13097923.0, 19028279.0, 14354603.0, 21609005.0, 16373129.0, 17284501.0, 17103145.0, 18704625.0, 17533681.0, 19556679.0, 17113597.0, 16387559.0, 15243233.0, 20036367.0, 17431825.0, 10719235.0, 18011547.0, 15204131.0, 16349309.0, 16495687.0, 21342341.0, 18524121.0, 16008865.0, 16108123.0, 20602725.0, 20447307.0, 14759685.0, 17400791.0, 16514951.0, 21614379.0, 17393839.0, 13317675.0, 15779589.0, 14602837.0, 19472909.0, 12026757.0, 15967967.0, 18264829.0, 20571645.0, 14646925.0, 12582331.0, 20208161.0, 19720975.0, 15124963.0, 12630279.0, 20709737.0, 17520425.0, 20561487.0, 16044641.0, 14609123.0, 16980767.0, 16794341.0, 14220073.0, 17296859.0, 14078851.0, 13044341.0, 13308541.0, 12469003.0, 17999437.0, 17129777.0, 17810285.0, 16398863.0, 15734667.0, 19650747.0, 14034021.0, 23195237.0, 18623351.0, 14475461.0, 16377447.0, 15800263.0, 14845569.0, 20720453.0, 18440983.0, 18562803.0, 16230077.0, 17410517.0, 19866527.0, 17792833.0, 20597215.0, 18109345.0, 18385609.0, 20589797.0, 19024393.0, 17784361.0, 21512491.0, 17830941.0, 17638915.0, 18419927.0, 18397765.0, 18575005.0, 18575097.0, 15183549.0, 13463979.0, 15536109.0, 19674115.0, 18433229.0, 17008565.0, 16496321.0, 16119473.0, 17123663.0, 15056329.0, 19714501.0, 16910165.0, 15966821.0, 19733425.0, 23598823.0, 19419947.0, 21793445.0, 19131205.0, 17120163.0, 9428299.0, 16243131.0, 23244191.0, 18287949.0, 15505403.0, 21652987.0, 17678247.0, 19523821.0, 19580727.0, 18700601.0, 15237363.0, 16697533.0, 18171999.0, 14468555.0, 18402443.0, 15074619.0, 18279477.0, 20902495.0, 14625231.0, 12294037.0, 14100565.0, 17681033.0, 17221029.0, 14873139.0, 21695353.0, 16656681.0, 9743649.0, 18288583.0, 12284731.0, 24843351.0, 18141725.0, 21330823.0, 15213949.0, 20469915.0, 20454969.0, 22377317.0, 21599391.0, 12294889.0, 20559489.0, 18982723.0, 13649847.0, 13049203.0, 19109649.0, 16356543.0, 16359421.0, 19352595.0, 17510901.0, 20421057.0, 16945957.0, 15976933.0, 16905507.0, 17260115.0, 16141229.0, 16287453.0, 17137057.0, 16514145.0, 19560103.0, 13917639.0, 20199287.0, 16631535.0, 16844613.0, 16537467.0, 14741475.0, 17610303.0, 18501139.0, 14525079.0, 12469095.0, 16982705.0, 17780803.0, 15102271.0, 15679903.0, 20282919.0, 23930875.0, 18148447.0, 15385349.0, 16115445.0, 14223711.0, 15769989.0, 18310465.0, 16276503.0, 17193415.0, 17308549.0, 21601371.0, 21859949.0, 14619747.0, 14066989.0, 17189893.0, 17262141.0, 13169459.0, 16232587.0, 16624969.0, 15752911.0, 18553295.0, 19442307.0, 18541341.0, 17691099.0, 13571717.0, 15419345.0, 18106961.0, 17115997.0, 16508057.0, 20317263.0, 15784423.0, 19570321.0, 18410201.0, 16120233.0, 19300485.0, 15800977.0, 14607977.0, 19019811.0, 15352381.0, 14468895.0, 16506727.0, 17527659.0, 18116625.0, 14192631.0, 17692337.0, 23563271.0, 13037807.0, 15483941.0, 16663495.0, 21470867.0, 18522215.0, 17424251.0, 16264841.0, 18535379.0, 16518883.0, 15502911.0, 15627159.0, 19595673.0, 20582949.0, 16094369.0, 23766797.0, 17137783.0, 12624257.0, 12922369.0, 17244363.0, 17526899.0, 20186405.0, 12836033.0, 18258355.0, 14333141.0, 23780933.0, 17244921.0, 17555345.0, 16676457.0, 15355587.0, 17998849.0, 18131521.0, 15214709.0, 17527239.0, 17405529.0, 13935371.0, 17254907.0, 15903625.0, 16675945.0, 19203971.0, 14199957.0, 21785145.0, 16622815.0, 17124947.0, 20975731.0, 13061221.0, 17440561.0, 16241939.0, 16418219.0, 16515245.0, 17128539.0, 17269841.0, 15380285.0, 13156883.0, 16243005.0, 20490807.0, 19140977.0, 19351835.0, 18234509.0, 18559677.0, 17396675.0, 19711623.0, 13181955.0, 21338737.0, 16227383.0, 13570899.0, 18268173.0, 18799579.0, 16009205.0, 14488763.0, 19283265.0, 19730127.0, 17446859.0, 14318491.0, 15351563.0, 17446721.0, 20649199.0, 13760681.0, 17647121.0, 16231735.0, 15518553.0, 16819169.0, 17774807.0, 17846135.0, 20547039.0, 15796285.0, 16806451.0, 17009463.0, 18551159.0, 15970077.0, 21343613.0, 13189621.0, 17772515.0, 18132759.0, 15393993.0, 15631339.0, 17698811.0, 16106571.0, 16260909.0, 17397121.0, 14199571.0, 13110033.0, 18863135.0, 16786227.0, 16495503.0, 18533473.0, 20343467.0, 15139145.0]

all_latency = [kcp_ws_acc1_latency, kcp_ws_acc2_latency, xp_ws_acc1_latency, xp_ws_acc2_latency, rs_acc1_latency, rs_acc2_latency, rs_acc3_latency]
print(all_latency)

srcc = [[0] * len(all_latency) for _ in range(len(all_latency))]

for i in range(len(all_latency)):
	for j in range(len(all_latency)):
		if i == j:
			srcc[i][j] = 1
		elif srcc[j][i] != 0:
			srcc[i][j] = srcc[j][i]
		else:
			srcc[i][j] = stats.spearmanr(all_latency[i], all_latency[j])[0]

print(srcc)


kcp_ws_acc1_energy = pickle.load(open('./kcp_ws/kcp_ws_1/acc1_energy.pickle', 'rb'))
kcp_ws_acc2_energy = pickle.load(open('./kcp_ws/kcp_ws_22/acc1_energy.pickle', 'rb'))

xp_ws_acc1_energy = pickle.load(open('./xp_ws/xp_ws_1/acc1_energy.pickle', 'rb'))
xp_ws_acc2_energy = pickle.load(open('./xp_ws/xp_ws_2/acc1_energy.pickle', 'rb'))

rs_acc1_energy = pickle.load(open('./rs/rs_1/acc1_energy.pickle', 'rb'))
rs_acc2_energy = pickle.load(open('./rs/rs_2/acc1_energy.pickle', 'rb'))

all_energy = [kcp_ws_acc1_energy, kcp_ws_acc2_energy, xp_ws_acc1_energy, xp_ws_acc2_energy, rs_acc1_energy, rs_acc2_energy]
#print(all_energy)

srcc = [[0] * len(all_energy) for _ in range(len(all_energy))]

for i in range(len(all_energy)):
	for j in range(len(all_energy)):
		if i == j:
			srcc[i][j] = 1
		elif srcc[j][i] != 0:
			srcc[i][j] = srcc[j][i]
		else:
			srcc[i][j] = stats.spearmanr(all_energy[i], all_energy[j])[0]
			
print(srcc)